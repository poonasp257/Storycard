{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JunYoung\\\\Desktop\\\\GitHub\\\\storycard\\\\client\\\\src\\\\App\\\\components\\\\DropTarget.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nclass DropTarget extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDrop = e => {\n      // tell the drop source about the drop, then do the callback\n      const evt = this.createEvent(\"\".concat(this.props.targetKey, \"Dropped\"), {\n        dragData: e.dragData,\n        dropElem: this.elem,\n        dropData: this.props.dropData\n      });\n      e.containerElem.dispatchEvent(evt);\n      this.props.onHit(e);\n      this.setState({\n        highlighted: false\n      });\n    };\n\n    this.handleDragEnter = e => {\n      console.log('enter');\n      const _e = e;\n      this.props.highlightClassName && this.setState({\n        highlighted: true\n      });\n      this.props.onDragEnter(_e);\n    };\n\n    this.handleDragLeave = e => {\n      const _e = e;\n      this.props.highlightClassName && this.setState({\n        highlighted: false\n      });\n      this.props.onDragLeave(_e);\n    };\n\n    this.elem = null;\n    this.state = {\n      highlighted: false\n    };\n  }\n\n  componentDidMount() {\n    this.elem.addEventListener(\"\".concat(this.props.targetKey, \"DragEnter\"), this.handleDragEnter, false);\n    this.elem.addEventListener(\"\".concat(this.props.targetKey, \"DragLeave\"), this.handleDragLeave, false);\n    this.elem.addEventListener(\"\".concat(this.props.targetKey, \"Drop\"), this.handleDrop, false);\n  }\n\n  createEvent(eventName, eventData) {\n    // utility to create an event\n    let e;\n\n    if (typeof window.CustomEvent !== 'function') {\n      // we are in IE 11 and must use old-style method of creating event\n      e = document.createEvent('CustomEvent');\n      e.initCustomEvent(eventName, true, true, {});\n    } else {\n      e = new CustomEvent(eventName, {\n        bubbles: true,\n        cancelable: true\n      });\n    }\n\n    Object.assign(e, eventData);\n    return e;\n  }\n\n  render() {\n    const classNames = 'droptarget ' + (this.state.highlighted ? this.props.highlightClassName : '');\n    return React.createElement(\"span\", {\n      ref: t => {\n        this.elem = t;\n      },\n      className: classNames,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.props.render ? this.props.render() : this.props.children);\n  }\n\n}\n\nDropTarget.propTypes = {\n  children: PropTypes.node,\n  render: PropTypes.func,\n  highlightClassName: PropTypes.string,\n  // needs to match the targetKey in the DragDropContainer -- matched via the enter/leave/drop event names, above\n  targetKey: PropTypes.string,\n  // data that gets sent back to the DragDropContainer and shows up in its onDrop() callback event\n  dropData: PropTypes.object,\n  // callbacks\n  onDragEnter: PropTypes.func,\n  onDragLeave: PropTypes.func,\n  onHit: PropTypes.func\n};\nDropTarget.defaultProps = {\n  children: null,\n  targetKey: 'ddc',\n  onDragEnter: () => {},\n  onDragLeave: () => {},\n  onHit: () => () => {},\n  dropData: {},\n  highlightClassName: 'highlighted',\n  render: null\n};\nexport default DropTarget;","map":{"version":3,"sources":["C:\\Users\\JunYoung\\Desktop\\GitHub\\storycard\\client\\src\\App\\components\\DropTarget.js"],"names":["React","PropTypes","DropTarget","Component","constructor","props","handleDrop","e","evt","createEvent","targetKey","dragData","dropElem","elem","dropData","containerElem","dispatchEvent","onHit","setState","highlighted","handleDragEnter","console","log","_e","highlightClassName","onDragEnter","handleDragLeave","onDragLeave","state","componentDidMount","addEventListener","eventName","eventData","window","CustomEvent","document","initCustomEvent","bubbles","cancelable","Object","assign","render","classNames","t","children","propTypes","node","func","string","object","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nclass DropTarget extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.elem = null;\r\n    this.state = {highlighted: false};\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.elem.addEventListener(`${this.props.targetKey}DragEnter`, this.handleDragEnter, false);\r\n    this.elem.addEventListener(`${this.props.targetKey}DragLeave`, this.handleDragLeave, false);\r\n    this.elem.addEventListener(`${this.props.targetKey}Drop`, this.handleDrop, false);\r\n  }\r\n\r\n  createEvent(eventName, eventData) {\r\n    // utility to create an event\r\n    let e;\r\n    if (typeof window.CustomEvent !== 'function') {\r\n      // we are in IE 11 and must use old-style method of creating event\r\n      e = document.createEvent('CustomEvent');\r\n      e.initCustomEvent(eventName, true, true, {});\r\n    } else {\r\n      e = new CustomEvent(eventName, { bubbles: true, cancelable: true });\r\n    }\r\n    Object.assign(e, eventData);\r\n    return e;\r\n  }\r\n\r\n  handleDrop = (e) => {\r\n    // tell the drop source about the drop, then do the callback\r\n    const evt = this.createEvent(\r\n      `${this.props.targetKey}Dropped`,\r\n      {\r\n        dragData: e.dragData,\r\n        dropElem: this.elem,\r\n        dropData: this.props.dropData,\r\n      },\r\n    );\r\n    e.containerElem.dispatchEvent(evt);\r\n    this.props.onHit(e);\r\n    this.setState({highlighted: false})\r\n  }\r\n\r\n  handleDragEnter = (e) => {\r\n    console.log('enter')\r\n    const _e = e;\r\n    this.props.highlightClassName && this.setState({highlighted: true})\r\n    this.props.onDragEnter(_e);\r\n  }\r\n\r\n  handleDragLeave = (e) => {\r\n    const _e = e;\r\n    this.props.highlightClassName && this.setState({highlighted: false})\r\n    this.props.onDragLeave(_e);\r\n  }\r\n\r\n\r\n  render() {\r\n    const classNames = 'droptarget ' +  (this.state.highlighted ? this.props.highlightClassName : '');\r\n    return (\r\n      <span ref={(t) => { this.elem = t; }} className={classNames}>\r\n        {this.props.render ? this.props.render() : this.props.children}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nDropTarget.propTypes = {\r\n  children: PropTypes.node,\r\n  render: PropTypes.func,\r\n  highlightClassName: PropTypes.string,\r\n\r\n  // needs to match the targetKey in the DragDropContainer -- matched via the enter/leave/drop event names, above\r\n  targetKey: PropTypes.string,\r\n\r\n  // data that gets sent back to the DragDropContainer and shows up in its onDrop() callback event\r\n  dropData: PropTypes.object,\r\n\r\n  // callbacks\r\n  onDragEnter: PropTypes.func,\r\n  onDragLeave: PropTypes.func,\r\n  onHit: PropTypes.func,\r\n};\r\n\r\nDropTarget.defaultProps = {\r\n  children: null,\r\n  targetKey: 'ddc',\r\n  onDragEnter: () => {},\r\n  onDragLeave: () => {},\r\n  onHit: () => () => {},\r\n  dropData: {},\r\n  highlightClassName: 'highlighted',\r\n  render: null,\r\n};\r\n\r\nexport default DropTarget;"]},"metadata":{},"sourceType":"module"}