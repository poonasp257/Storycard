{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\JunYoung Lee\\\\Desktop\\\\Github\\\\Storycard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\JunYoung Lee\\\\Desktop\\\\Github\\\\Storycard\\\\client\\\\src\\\\App\\\\components\\\\PostIt.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n    width: 120px;\\n    height: 120px;\\n    border: solid;\\n    border-width: 1px;\\n    box-shadow: 5px 5px 8px 4px rgba(0, 0, 0, 0.5);\\n    background-color: #BAECFF;\\n    font-size: 1.5em;\\n    resize: none;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport Draggable from './Draggable';\nconst Content = styled.textarea(_templateObject()); // stateless type으로 변경 예정\n// onchange 방식 바꾼 후 componentDidUpdate 부분 삭제\n\nclass PostIt extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.OnChange = e => {\n      let items = Object.assign({}, this.props.items);\n\n      for (let item of items) {\n        if (item.id !== e.target.closest('div').id) continue;\n        let texts = item.getElementsByTagName('TEXTAREA');\n\n        for (let text of texts) {\n          text.value = e.target.value;\n          text.innerHTML = e.target.value;\n        }\n\n        break;\n      }\n\n      this.props.setItems(items);\n    };\n  }\n\n  componentDidUpdate() {\n    const board = document.getElementsByClassName('board');\n    const texts = board[0].getElementsByTagName('textarea');\n\n    for (let text of texts) {\n      text.removeAttribute('readOnly');\n      text.addEventListener('change', this.OnChange); //text.addEventListener('keydown', this.OnKeyDown);\n    }\n  }\n\n  render() {\n    return React.createElement(Draggable, {\n      tag: \"board\",\n      addItem: this.props.addItem,\n      customEvent: this.OnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(Content, {\n      readOnly: true,\n      onChange: this.OnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default PostIt;","map":{"version":3,"sources":["C:\\Users\\JunYoung Lee\\Desktop\\Github\\Storycard\\client\\src\\App\\components\\PostIt.js"],"names":["React","Component","styled","Draggable","Content","textarea","PostIt","OnChange","e","items","Object","assign","props","item","id","target","closest","texts","getElementsByTagName","text","value","innerHTML","setItems","componentDidUpdate","board","document","getElementsByClassName","removeAttribute","addEventListener","render","addItem"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAEA,MAAMC,OAAO,GAAGF,MAAM,CAACG,QAAV,mBAAb,C,CAUA;AACA;;AACA,MAAMC,MAAN,SAAqBL,SAArB,CAA+B;AAAA;AAAA;;AAAA,SAY3BM,QAZ2B,GAYfC,CAAD,IAAO;AACd,UAAIC,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKC,KAAL,CAAWH,KAA7B,CAAZ;;AACA,WAAI,IAAII,IAAR,IAAgBJ,KAAhB,EAAuB;AACnB,YAAGI,IAAI,CAACC,EAAL,KAAYN,CAAC,CAACO,MAAF,CAASC,OAAT,CAAiB,KAAjB,EAAwBF,EAAvC,EAA2C;AAE3C,YAAIG,KAAK,GAAGJ,IAAI,CAACK,oBAAL,CAA0B,UAA1B,CAAZ;;AACA,aAAI,IAAIC,IAAR,IAAgBF,KAAhB,EAAuB;AACnBE,UAAAA,IAAI,CAACC,KAAL,GAAaZ,CAAC,CAACO,MAAF,CAASK,KAAtB;AACAD,UAAAA,IAAI,CAACE,SAAL,GAAiBb,CAAC,CAACO,MAAF,CAASK,KAA1B;AACH;;AACD;AACH;;AACD,WAAKR,KAAL,CAAWU,QAAX,CAAoBb,KAApB;AACH,KAzB0B;AAAA;;AAC3Bc,EAAAA,kBAAkB,GAAG;AACjB,UAAMC,KAAK,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,OAAhC,CAAd;AACA,UAAMT,KAAK,GAAGO,KAAK,CAAC,CAAD,CAAL,CAASN,oBAAT,CAA8B,UAA9B,CAAd;;AAEA,SAAI,IAAIC,IAAR,IAAgBF,KAAhB,EAAuB;AACnBE,MAAAA,IAAI,CAACQ,eAAL,CAAqB,UAArB;AACAR,MAAAA,IAAI,CAACS,gBAAL,CAAsB,QAAtB,EAAgC,KAAKrB,QAArC,EAFmB,CAGnB;AACH;AACJ;;AAiBDsB,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,SAAD;AAAW,MAAA,GAAG,EAAC,OAAf;AAAuB,MAAA,OAAO,EAAE,KAAKjB,KAAL,CAAWkB,OAA3C;AAAoD,MAAA,WAAW,EAAE,KAAKvB,QAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,OAAD;AAAS,MAAA,QAAQ,MAAjB;AAAkB,MAAA,QAAQ,EAAE,KAAKA,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADJ;AAOH;;AAnC0B;;AAsC/B,eAAeD,MAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport Draggable from './Draggable';\r\n\r\nconst Content = styled.textarea`\r\n    width: 120px;\r\n    height: 120px;\r\n    border: solid;\r\n    border-width: 1px;\r\n    box-shadow: 5px 5px 8px 4px rgba(0, 0, 0, 0.5);\r\n    background-color: #BAECFF;\r\n    font-size: 1.5em;\r\n    resize: none;\r\n`;\r\n// stateless type으로 변경 예정\r\n// onchange 방식 바꾼 후 componentDidUpdate 부분 삭제\r\nclass PostIt extends Component {\r\n    componentDidUpdate() {\r\n        const board = document.getElementsByClassName('board');\r\n        const texts = board[0].getElementsByTagName('textarea');\r\n\r\n        for(let text of texts) {\r\n            text.removeAttribute('readOnly');\r\n            text.addEventListener('change', this.OnChange);\r\n            //text.addEventListener('keydown', this.OnKeyDown);\r\n        }\r\n    }    \r\n\r\n    OnChange = (e) => {\r\n        let items = Object.assign({}, this.props.items);\r\n        for(let item of items) {\r\n            if(item.id !== e.target.closest('div').id) continue;\r\n\r\n            let texts = item.getElementsByTagName('TEXTAREA');  \r\n            for(let text of texts) {\r\n                text.value = e.target.value;\r\n                text.innerHTML = e.target.value;\r\n            }\r\n            break;\r\n        }\r\n        this.props.setItems(items);\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <Draggable tag=\"board\" addItem={this.props.addItem} customEvent={this.OnChange}>   \r\n                <form>\r\n                    <Content readOnly onChange={this.OnChange} />\r\n                </form>\r\n            </Draggable>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PostIt; "]},"metadata":{},"sourceType":"module"}